{"version":3,"sources":["webpack:///./src/views/search.vue?5c7b","webpack:///src/views/search.vue","webpack:///./src/views/search.vue?cfe1","webpack:///./src/views/search.vue","webpack:///./src/views/search.vue?4ba2"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","directives","name","rawName","value","expression","domProps","on","$event","target","composing","keywords","_l","key","id","selectMusic","_v","_s","artists","_e","index","searchcontent","first","staticRenderFns","data","songs","PopularRecom","components","iscrollview","methods","request","console","log","err","content","created","component"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,UAAU,CAACF,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,MAAM,CAACE,YAAY,OAAOC,MAAM,CAAC,EAAI,gBAAgB,QAAU,gBAAgB,QAAU,MAAM,MAAQ,6BAA6B,OAAO,OAAO,MAAQ,MAAM,OAAS,QAAQ,CAACH,EAAG,OAAO,CAACG,MAAM,CAAC,EAAI,qXAAqX,OAAO,OAAO,KAAO,eAAeH,EAAG,QAAQ,CAACI,WAAW,CAAC,CAACC,KAAK,SAASC,QAAQ,WAAWC,MAAOX,EAAW,QAAEY,WAAW,WAAW,CAACH,KAAK,QAAQC,QAAQ,UAAUC,MAAOX,EAAY,SAAEY,WAAW,aAAaL,MAAM,CAAC,KAAO,OAAO,YAAc,aAAaM,SAAS,CAAC,MAASb,EAAY,UAAGc,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOC,OAAOC,YAAqBjB,EAAIkB,SAASH,EAAOC,OAAOL,aAA4B,KAAfX,EAAIkB,SAAed,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,cAAc,CAACA,EAAG,KAAKJ,EAAImB,GAAIlB,KAAU,OAAE,SAASU,GAAO,OAAOP,EAAG,KAAK,CAACgB,IAAIT,EAAMU,GAAGP,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOf,EAAIsB,YAAYX,EAAMU,OAAO,CAACjB,EAAG,MAAM,CAACE,YAAY,OAAOC,MAAM,CAAC,EAAI,gBAAgB,QAAU,gBAAgB,QAAU,MAAM,MAAQ,6BAA6B,OAAO,OAAO,MAAQ,MAAM,OAAS,QAAQ,CAACH,EAAG,OAAO,CAACG,MAAM,CAAC,EAAI,qXAAqX,OAAO,OAAO,KAAO,eAAeH,EAAG,OAAO,CAACJ,EAAIuB,GAAGvB,EAAIwB,GAAGb,EAAMF,MAAM,MAAMT,EAAIwB,GAAGb,EAAMc,QAAQ,GAAGhB,cAAa,MAAM,GAAGT,EAAI0B,KAAuB,IAAjBzB,KAAKiB,SAAgBd,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,KAAKJ,EAAImB,GAAIlB,KAAiB,cAAE,SAASU,EAAMgB,GAAO,OAAOvB,EAAG,KAAK,CAACgB,IAAIO,EAAMb,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOf,EAAI4B,cAAcjB,EAAMkB,UAAU,CAAC7B,EAAIuB,GAAG,IAAIvB,EAAIwB,GAAGb,EAAMkB,OAAO,UAAS,KAAK7B,EAAI0B,QACzxEI,EAAkB,G,4DC8BtB,GACErB,KAAM,SACNsB,KAAF,WACI,MAAJ,CACMb,SAAN,GACMc,MAAN,GACMC,aAAN,KAGEC,WAAF,CACIC,YAAJ,QAEEC,QAAF,+BACIC,QADJ,WACA,WACA,mBACM,OAAN,OAAM,CAAN,0BACA,kBACQC,QAAQC,IAAIR,GACZ,EAAR,wBAHA,UAIA,YACQO,QAAQC,IAAIC,OAGhBlB,YAXJ,SAWA,GAIM,QAAN,OACM,KAAN,oBACA,uBACA,yBAEA,gBACA,gBACA,gBACA,oBAvBA,IA2BIM,cA3BJ,SA2BA,GACM3B,KAAKiB,SAAWuB,EAChBxC,KAAKoC,aAKT7B,WAAY,CACd,QACA,uBACA,SACA,uCACA,IACA,KACA,uBACA,KACA,YACA,YAKAkC,QA7DA,WA6DA,WACA,iBACA,kBACA,6BACA,kBAHA,UAMA,YACA,oBCpGgV,I,wBCQ5UC,EAAY,eACd,EACA5C,EACA+B,GACA,EACA,KACA,WACA,MAIa,aAAAa,E,oECnBf,yBAAmiB,EAAG","file":"js/chunk-ae557c3e.9e92c43f.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"search\"},[_c('div',{staticClass:\"search-box\"},[_c('svg',{staticClass:\"icon\",attrs:{\"t\":\"1595840224154\",\"viewBox\":\"0 0 1024 1024\",\"version\":\"1.1\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"p-id\":\"2355\",\"width\":\"200\",\"height\":\"200\"}},[_c('path',{attrs:{\"d\":\"M667.648 114.688c-152.576-152.576-400.384-152.576-552.96 0s-152.576 400.384 0 552.96C259.072 812.032 490.496 819.2 644.096 689.152l327.68 327.68 45.056-45.056-327.68-327.68C819.2 490.496 812.032 259.072 667.648 114.688zM635.904 635.904c-136.192 136.192-355.328 136.192-490.496 0S10.24 280.576 146.432 146.432 501.76 10.24 635.904 146.432 771.072 500.736 635.904 635.904z\",\"p-id\":\"2356\",\"fill\":\"#8a8a8a\"}})]),_c('input',{directives:[{name:\"thrott\",rawName:\"v-thrott\",value:(_vm.request),expression:\"request\"},{name:\"model\",rawName:\"v-model\",value:(_vm.keywords),expression:\"keywords\"}],attrs:{\"type\":\"text\",\"placeholder\":\"歌手、歌曲、专辑 \"},domProps:{\"value\":(_vm.keywords)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.keywords=$event.target.value}}})]),(_vm.keywords!=='')?_c('div',{staticClass:\"suggest-list\"},[_c('iscrollview',[_c('ul',_vm._l((this.songs),function(value){return _c('li',{key:value.id,on:{\"click\":function($event){return _vm.selectMusic(value.id)}}},[_c('svg',{staticClass:\"icon\",attrs:{\"t\":\"1595840224154\",\"viewBox\":\"0 0 1024 1024\",\"version\":\"1.1\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"p-id\":\"2355\",\"width\":\"200\",\"height\":\"200\"}},[_c('path',{attrs:{\"d\":\"M667.648 114.688c-152.576-152.576-400.384-152.576-552.96 0s-152.576 400.384 0 552.96C259.072 812.032 490.496 819.2 644.096 689.152l327.68 327.68 45.056-45.056-327.68-327.68C819.2 490.496 812.032 259.072 667.648 114.688zM635.904 635.904c-136.192 136.192-355.328 136.192-490.496 0S10.24 280.576 146.432 146.432 501.76 10.24 635.904 146.432 771.072 500.736 635.904 635.904z\",\"p-id\":\"2356\",\"fill\":\"#8a8a8a\"}})]),_c('span',[_vm._v(_vm._s(value.name)+\" - \"+_vm._s(value.artists[0].name))])])}),0)])],1):_vm._e(),(this.keywords == '')?_c('div',{staticClass:\"popularrecom\"},[_c('ul',_vm._l((this.PopularRecom),function(value,index){return _c('li',{key:index,on:{\"click\":function($event){return _vm.searchcontent(value.first)}}},[_vm._v(\" \"+_vm._s(value.first)+\" \")])}),0)]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"search\">\r\n    <div class=\"search-box\">\r\n      <svg t=\"1595840224154\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"2355\" width=\"200\" height=\"200\"><path d=\"M667.648 114.688c-152.576-152.576-400.384-152.576-552.96 0s-152.576 400.384 0 552.96C259.072 812.032 490.496 819.2 644.096 689.152l327.68 327.68 45.056-45.056-327.68-327.68C819.2 490.496 812.032 259.072 667.648 114.688zM635.904 635.904c-136.192 136.192-355.328 136.192-490.496 0S10.24 280.576 146.432 146.432 501.76 10.24 635.904 146.432 771.072 500.736 635.904 635.904z\" p-id=\"2356\" fill=\"#8a8a8a\"></path></svg>\r\n      <input type=\"text\" v-thrott=\"request\" placeholder=\"歌手、歌曲、专辑 \" v-model=\"keywords\">\r\n    </div>\r\n    <div class=\"suggest-list\" v-if=\"keywords!==''\">\r\n      <iscrollview>\r\n      <ul >\r\n        <li v-for=\" value in this.songs\" :key=\"value.id\" @click=\"selectMusic(value.id)\">\r\n          <svg t=\"1595840224154\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"2355\" width=\"200\" height=\"200\"><path d=\"M667.648 114.688c-152.576-152.576-400.384-152.576-552.96 0s-152.576 400.384 0 552.96C259.072 812.032 490.496 819.2 644.096 689.152l327.68 327.68 45.056-45.056-327.68-327.68C819.2 490.496 812.032 259.072 667.648 114.688zM635.904 635.904c-136.192 136.192-355.328 136.192-490.496 0S10.24 280.576 146.432 146.432 501.76 10.24 635.904 146.432 771.072 500.736 635.904 635.904z\" p-id=\"2356\" fill=\"#8a8a8a\"></path></svg>\r\n          <span>{{value.name}} - {{value.artists[0].name}}</span>\r\n        </li>\r\n      \r\n      </ul>\r\n      </iscrollview>\r\n    </div>\r\n    <div class=\"popularrecom\" v-if=\"this.keywords == ''\" >\r\n      <ul>\r\n        <li v-for=\"(value,index) in this.PopularRecom\" :key=\"index\" @click=\"searchcontent(value.first)\">\r\n          {{value.first}}\r\n        </li>\r\n      </ul>\r\n    </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport iscrollview from '../components/scrollview'\r\nimport {getsearch,getPopularrecom} from '../api/index'\r\nimport {mapActions} from 'vuex'\r\nexport default {\r\n  name: 'search',\r\n  data:function(){\r\n    return{\r\n      keywords:'',\r\n      songs:[],\r\n      PopularRecom:[]\r\n    }\r\n  },\r\n  components:{\r\n    iscrollview\r\n  },\r\n  methods:{\r\n    request(){\r\n      if(this.keywords =='')return\r\n      getsearch({'keywords':this.keywords})\r\n      .then((data) => {\r\n        console.log(data)\r\n        this.songs = data.result.songs\r\n      }).catch((err) => {\r\n        console.log(err)\r\n      });\r\n    },\r\n    selectMusic(id){\r\n          //dispatch用来调度actions\r\n        //   this.$store.dispatch('setFullScreen',true)\r\n        // this.setCurrentLyrics(id)\r\n        console.log(id)\r\n        this.setSongsDetail([id]),\r\n        this.setFullScreen(true),\r\n        this.setminiplayer(false)\r\n      },\r\n    ...mapActions([\r\n        'setFullScreen',\r\n        'setminiplayer',\r\n        'setSongsDetail',\r\n        // 'setCurrentLyrics'\r\n        \r\n    ]),\r\n    searchcontent(content){\r\n      this.keywords = content\r\n      this.request()\r\n    }\r\n    \r\n  },\r\n  //自定义节流指令\r\n  directives: {\r\n  thrott: {\r\n    inserted: function (el,obj) {\r\n      let closure = true  //定义开关\r\n      el.addEventListener('input',function(){\r\n        if(!closure)return//如果开关关闭 则弹出函数\r\n        closure = false   //关闭开关\r\n        setTimeout(function(){\r\n          closure = true  //当执行的时候再开启开关\r\n          obj.value()\r\n        },1000)\r\n      })\r\n    }\r\n  }\r\n},\r\ncreated(){\r\n  getPopularrecom()\r\n  .then((data)=>{\r\n    this.PopularRecom = data.result.hots\r\n    console.log(data)\r\n\r\n  })\r\n  .catch((err)=>{\r\n    console.log(err)\r\n  })\r\n}\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.search{\r\n  position: fixed;\r\n  top: 224px;\r\n  width: 70%;\r\n  margin-left: 50%;\r\n  left: -45%;\r\n.search-box{\r\n  width: 100%;\r\n  height: 60px;\r\n  \r\n  input{\r\n    width: 100%;\r\n    height: 100%;\r\n    border: none;\r\n    background:#f1ecec;\r\n    border-radius: 20px;\r\n    outline: none;\r\n    padding: 0 60px;\r\n  }\r\n\r\n  svg{\r\n    position: absolute;\r\n    top: 50%;\r\n    margin-top: -20px;\r\n    left: 2%;\r\n    width: 50px;\r\n    height: 40px;\r\n\r\n  }\r\n  \r\n}\r\n  .suggest-list{\r\n    position: fixed;\r\n      top: 304px;\r\n      bottom: 0;\r\n      left: 50px;\r\n      width: 85%;\r\n      overflow: hidden;\r\n\r\n    ul{\r\n      \r\n      li{\r\n        position: relative;\r\n        height: 70px;\r\n        width: 100%;\r\n        border-top: 1px solid rgb(190, 188, 188);\r\n        background: #f8f8f8;\r\n        svg{\r\n          position: absolute;\r\n          top: 15px;\r\n          width: 50px;\r\n          height: 40px;\r\n        }\r\n        span{\r\n          margin-left: 70px;\r\n          text-align: center;\r\n          line-height: 70px;\r\n          font-size: 28px;\r\n\r\n        }\r\n      }\r\n    }\r\n  }\r\n    .popularrecom{\r\n      position: absolute;\r\n      top:100px;\r\n      left: 50px;\r\n      width: 100%;\r\n\r\n      ul{\r\n        width: 100%;\r\n        display: flex;\r\n        flex-wrap: wrap;\r\n        li{\r\n          margin: 10px 15px;\r\n          padding: 0 20px;\r\n          box-sizing: border-box;\r\n          border: 1px solid #949090;\r\n          border-radius: 20px;\r\n        }\r\n      }\r\n    }\r\n  }\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./search.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./search.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./search.vue?vue&type=template&id=fe5c15e0&scoped=true&\"\nimport script from \"./search.vue?vue&type=script&lang=js&\"\nexport * from \"./search.vue?vue&type=script&lang=js&\"\nimport style0 from \"./search.vue?vue&type=style&index=0&id=fe5c15e0&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fe5c15e0\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./search.vue?vue&type=style&index=0&id=fe5c15e0&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./search.vue?vue&type=style&index=0&id=fe5c15e0&lang=scss&scoped=true&\""],"sourceRoot":""}