(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-de863e3a"],{"20d0":function(t,e,i){"use strict";i.r(e);var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"singer"},[i("Scrollview",{ref:"scrollview"},[i("ul",t._l(t.letter,(function(e,r){return i("li",{key:r,ref:"iscroll",refInFor:!0,staticClass:"letter"},[i("h2",[t._v(t._s(e))]),i("ul",{staticClass:"singers"},t._l(t.requset[r],(function(e){return i("li",{key:e.id,on:{click:function(i){return t.switchSinger(e.id)}}},[i("div",{staticClass:"imgru"},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.picUrl,expression:"value.picUrl"}],attrs:{alt:"",srcset:""}})]),i("span",[t._v(t._s(e.name))])])})),0)])})),0)]),i("ul",{staticClass:"nav"},t._l(t.letter,(function(e,r){return i("li",{key:r,class:{active:t.currentindex==r},attrs:{"data-index":r},on:{touchstart:function(e){return e.stopPropagation(),t.touchstar(e)},touchmove:function(e){return e.stopPropagation(),t.touchmove(e)}}},[t._v(" "+t._s(e)+" ")])})),0),i("div",{directives:[{name:"show",rawName:"v-show",value:""!==t.firsttitle,expression:"firsttitle!== ''"}],ref:"firsttitle",staticClass:"top-nav"},[t._v(t._s(t.firsttitle))]),i("transition",[i("router-view")],1)],1)},s=[],n=(i("4160"),i("e25e"),i("159b"),i("365c")),c=i("6ec2"),a={name:"singer",data:function(){return{letter:[],requset:[],iscroll:[],currentindex:0,starpage:0,movepage:0,iscrollpath:0,firsttitleY:85}},computed:{firsttitle:function(){return this.currentindex<=0?"":this.letter[this.currentindex]}},components:{Scrollview:c["a"]},methods:{keydwn:function(t){this.currentindex=t;var e=this.iscroll[t];this.$refs.scrollview.scrollTo(0,-e)},touchstar:function(t){var e=t.target.dataset.index;this.keydwn(e),this.starpage=t.touches[0].pageY},touchmove:function(t){this.movepage=t.touches[0].pageY;var e=Math.floor((this.movepage-this.starpage)/t.target.offsetHeight),i=parseInt(t.target.dataset.index)+e;i<0&&(e=0),this.keydwn(i)},switchSinger:function(t){this.$router.push({path:"/singer/detail/".concat(t,"/singer")})}},watch:{requset:function(t){var e=this;this.$nextTick((function(){e.$refs.iscroll.forEach((function(t){e.iscroll.push(t.offsetTop)}))}))},firsttitle:function(){var t=this;this.$nextTick((function(){t.firsttitleY=t.$refs.firsttitle.offsetHeight}))}},created:function(){var t=this;Object(n["e"])().then((function(e){t.letter=e.letter,t.requset=e.data}))},mounted:function(){var t=this;this.$refs.scrollview.scrolling((function(e){if(t.iscrollpath=e,e>=0)t.currentindex=0;else for(var i=0;i<t.iscroll.length-1;i++){var r=t.iscroll[i],s=t.iscroll[i+1],n=e+s;if(n>0&&n<t.firsttitleY?n-t.firsttitleY:0,-e>=r&&-e<=s)return void(t.currentindex=i);t.currentindex=t.iscroll.length-1}}))}},o=a,l=(i("fc0b"),i("2877")),u=Object(l["a"])(o,r,s,!1,null,"a2555484",null);e["default"]=u.exports},9172:function(t,e,i){},fc0b:function(t,e,i){"use strict";var r=i("9172"),s=i.n(r);s.a}}]);
//# sourceMappingURL=chunk-de863e3a.53d5f587.js.map